<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorator="layouts/main.html">
<head>
  <title layout:fragment="title">Account</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/mainstyle.css">

  <style>
  .fakeimg {
    height: 300px;
    background: #aaa;
    text-align:center;

  }
  </style>
</head>
<body class="bg">

<div layout:fragment = "contentPart">



<div class="container" style="margin-top:30px;width: 90%; max-width: 1340px;">
  <div class="row">
    <div class="col-md-4 bg-white sh shadow rounded" style="margin-bottom: 300px;">
    
      <div class="fakeimg" style="background-image: url(images/person.jpg); margin-top: 30px;">
        <a class="nav-link" href="/"><img class = "fakeimg" th:src="${user.avatar}"></a>

      </div>
      <p>User status...</p>
      <hr class="hr-shelf">
      <h3 style="margin-top: 20px;">Account</h3>
      <ul class="nav nav-pills flex-column">
        <li class="nav-item">
          <a class="nav-link " href="/edit_profile">Edit profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal"  href="#" data-target="#exampleModalCenter2">Change password</button>
        </a>
        <li class="nav-item">
          <a class="nav-link" href="gallery.html">Gallery</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">GitHub</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Alerms</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " style = "color:gray;"href="#">Logout</a>
        </li>
      </ul>
      <hr class="d-sm-none">
    </div>

    <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <form th:action="${'/refpass'}" method="post">
            <div class="modal-body">
              <div class="form-group">
                <input type="hidden" name="id" th:value="${user.id}">
                <label for="recipient-name" class="col-form-label">New password:</label>
                <input type="text" name="password" class="form-control" id="recipient-name">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Refresh</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-8 bg-white shadow">
      <h2 style="margin-top: 20px; font-size: 25px;">About me:</h2>

      <div class="table-responsive">

        <!--Table-->
        <table class="table" style="font-size: 20px;" >
              <tbody>
            <tr>
              <th scope="row" th:text = "#{label.name}"></th>
              <td th:text="${user.name}"></td>
            </tr>
            <tr>
              <th scope="row" th:text = "#{label.age}"></th>
              <td th:text="${user.birthday}"></td>
            </tr>
            <tr>
              <th scope="row" th:text = "#{label.city}"></th>
              <td th:text="${user.city}"></td>
            </tr>
            <tr>
              <th scope="row" th:text = "#{label.gender}"></th>
              <td th:text="${user.gender}"></td>
            </tr>
            <tr>
              <th scope="row" th:text = "#{label.tel_number}"></th>
              <td th:text="${user.tel_number}"></td>
            </tr>
            <tr>
              <th scope="row" th:text = "#{label.email}"></th>
              <td th:text="${user.email}"></td>
            </tr>

          </tbody>
          <!--Table body-->
      
        </table>
        <!--Table-->
        <br>
        <h4 th:text = "#{label.about_me}"></h4>
        <p th:text="${user.about}"></p>
        <br>
      </div>



      <hr>

  </div>
</div>

<script>
$(function() {
  // Sidebar toggle behavior
  $('#sidebarCollapse').on('click', function() {
    $('#sidebar, #content').toggleClass('active');
  });
});
</script>



</div>
</div>
</body>
</html>
